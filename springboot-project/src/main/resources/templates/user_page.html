<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<title>Pagina de usuario</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css"
	rel="stylesheet">
</head>
<body>
  <header class="p-3 bg-dark text-white">
    <div class="container">
        <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
            <a href="/" class="d-flex align-items-center mb-2 mb-lg-0 text-white text-decoration-none">
                <a class="navbar-brand" href="#">
                    <img src="https://cdn-icons-png.freepik.com/512/12082/12082882.png?ga=GA1.1.647944042.1714035643" alt="logo" width="30" height="24" class="d-inline-block align-text-top">
                </a>
            </a>

            <ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0">
                <li><a th:href="@{/users/login}" class="nav-link px-2 text-secondary">Sobre nosotros</a></li>
                <li><a th:href="@{/users/new}" class="nav-link px-2 text-white">Contacto</a></li>
            </ul>

            <div class="text-end">
                <a th:href="@{/users/login}" class="btn btn-outline-light me-2">Log In</a>
                <a th:href="@{/users/new}" class="btn btn-warning">Sign Up</a>
            </div>
        </div>
    </div>
</header>

    <div class="container">
      <div class="row p-3">
        <div class="col-4">
          <h1 class="pt-3">Bienvenido: <span th:text="${user.name}"></span></h1>
        </div>
        <div class="col-2">
          <img class="img-fluid rounded-circle border" th:src="@{/img/avatars/__${user.avatar_id}__.jpg}" th:alt="${user.image_url}">
        </div>
        <div class="col-6"></div>
      </div>
      <div class="row">
        <div class="col-4">
          <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">
            <a class="nav-link active" id="v-pills-home-tab" data-toggle="pill" href="#v-pills-home" role="tab" aria-controls="v-pills-home" aria-selected="true">Datos del usuario</a>
            <a class="nav-link" id="v-pills-profile-tab" data-toggle="pill" href="#v-pills-profile" role="tab" aria-controls="v-pills-profile" aria-selected="false">Acciones</a>
            <a class="nav-link" id="v-pills-messages-tab" data-toggle="pill" href="#v-pills-messages" role="tab" aria-controls="v-pills-messages" aria-selected="false">Intereses</a>
            <a class="nav-link" id="v-pills-settings-tab" data-toggle="pill" href="#v-pills-settings" role="tab" aria-controls="v-pills-settings" aria-selected="false">Eventos</a>
            <a class="nav-link" id="v-pills-chats-tab" data-toggle="pill" href="#v-pills-chats" role="tab" aria-controls="v-pills-chats" aria-selected="false">Chats</a>
          </div>
        </div>
        <div class="col-8">
          <div class="tab-content" id="v-pills-tabContent">
            <div class="tab-pane fade show active" id="v-pills-home" role="tabpanel" aria-labelledby="v-pills-home-tab">
                <ul class="list-group">
                    <li class="list-group-item">Usuario: <span th:text="${user.username}"></span></li>
                    <li class="list-group-item">Email: <span th:text="${user.email}"></span></li>
                    <li class="list-group-item">Nombre: <span th:text="${user.name}"></span></li>
                    <li class="list-group-item">Apellidos: <span th:text="${user.surname}"></span></li>
                    <li class="list-group-item">Edad: <span th:text="${user.age}"></span></li>
                    <li class="list-group-item">Fecha de nacimiento: <span th:text="${user.birthdate}"></span></li>
                </ul>
            </div>
            <div class="tab-pane fade" id="v-pills-profile" role="tabpanel" aria-labelledby="v-pills-profile-tab">
                <a th:href="@{/users/edit/{id}(id=${user.id})}" class="btn btn-info">Editar</a> 
                <a th:href="@{/users/{id}(id=${user.id})}" class="btn btn-danger">Eliminar cuenta</a>
                <a th:href="@{/users/logout}" class="btn btn-danger">Cerrar sesion</a>
            </div>
            <div class="tab-pane fade" id="v-pills-messages" role="tabpanel" aria-labelledby="v-pills-messages-tab">
              <ul th:each="interest : ${interestList}">
                <li th:text="${interest.name}"></li>
              </ul>
              <a th:href="@{/meet/{id}(id=${user.id})}" class="btn btn-info">Descubrir gente</a> 
            </div>
            <div class="tab-pane fade" id="v-pills-settings" role="tabpanel" aria-labelledby="v-pills-settings-tab">
              <a th:href="@{/events/new}" class="btn btn-danger">Crear evento</a>
              <a th:href="@{/events/search}" class="btn btn-danger">Eventos</a>
              <div class="container-fluid">
                <div class="row gx-5">
                  <div class="col-4" th:each="event : ${eventList}">
                    <div class="card d-inline-block" style="width: 18rem;">
                      <img class="card-img-top" th:src="@{/img/eventsImg/__${event.image_url}__}" th:alt="${event.image_url}">
                      <div class="card-body">
                        <h5 class="card-title" th:text="${event.name}"></h5>
                        <p class="card-text" th:text="${event.description}"></p>
                        <a th:href="@{/events/view/{id}(id=${event.id})}" class="btn btn-info">Editar</a> 
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="tab-pane fade" id="v-pills-chats" role="tabpanel" aria-labelledby="v-pills-chats-tab">
              <a th:href="@{/chat/create/group}" class="btn btn-info">Crear chat grupal</a> 
              <br>
              <a th:href="@{/chat/create/{id}(id=48)}" class="btn btn-info">Prueba de chat con otro user 1</a> 
              <a th:href="@{/chat/create/{id}(id=45)}" class="btn btn-info">Prueba de chat con otro user 2</a> 
              <a th:href="@{/chat/create/{id}(id=47)}" class="btn btn-info">Prueba de chat con otro user 3</a> 
              <div class="container-fluid">
                <div class="row gx-5">
                  <div class="col-4" th:each="chat : ${chatList}">
                    <div class="card d-inline-block" style="width: 18rem;">
                      <div class="card-body">
                        <h5 class="card-title" th:text="${chat.id}"></h5>
                        <a th:href="@{/chat/view/{id}(id=${chat.id})}" class="btn btn-info">Entrar</a> 
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
      <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
      <script>
        $(document).ready(function(){
          $('#v-pills-tab a:first').tab('show');
        });
      </script>
</body>
</html>
